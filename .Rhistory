rough_crowns_shp_fname = 'E:/beckpie/temp/DMC_treedetection_test.shp',
max_npix = 500000,
nWorkers = 4,
parallel = F
)
testim <- raster::crop(raster::brick('X:/Imagery/Portugal/Images/8bit/12_0820.tif'), testext)
raster::plotRGB(testim)
plot(tt,add=T,border=2)
orchard_map <- 'H:\FISE\forest\CanopyHealthMonitoring\Xylella\olive_trees_maps\uliveti_puglia/uliveti_puglia.shp'
source('~/.active-rstudio-document', echo=TRUE)
orchard_map <- 'H:\\FISE\forest\CanopyHealthMonitoring\Xylella\olive_trees_maps\uliveti_puglia\uliveti_puglia'
orchard_map <- 'H:////FISE//forest//CanopyHealthMonitoring//Xylella//olive_trees_maps//uliveti_puglia//uliveti_puglia'
orch <- raster::shapefile(orchard_map)
orchard_map <- 'H:////FISE//forest//CanopyHealthMonitoring//Xylella//olive_trees_maps//uliveti_puglia//uliveti_puglia.shp'
orch <- raster::shapefile(orchard_map)
require(CanHeMonR)
debug(CanHeMonR::watershed_tree_detection)
undebug(watershed_tree_detection)
testext <- raster::extent(c(1000, 1600, 1, 600))
tt <- watershed_tree_detection(
image_fname = 'X:/Imagery/Portugal/Images/8bit/12_0820.tif',
bandnames = c('X435.000000.Nanometers','X700.000000.Nanometers','X546.000000.Nanometers','X800.000000.Nanometers'),
#extent = raster::extent(c(747400, 747420, 4463900, 4463920)),
extent = testext,
index_name = 'NDVI',
bg_mask = list('NDVI',0.30),
plott = F,
neighbour_radius = 4/0.15,# because these data are not properly projected the ca. 15 cm pixels are assigned '1 unit/m'
watershed_tolerance = 0.008,
rough_crowns_shp_fname = 'E:/beckpie/temp/DMC_treedetection_test.shp',
max_npix = 500000,
nWorkers = 4,
parallel = F
)
testim <- raster::crop(raster::brick('X:/Imagery/Portugal/Images/8bit/12_0820.tif'), testext)
raster::plotRGB(testim)
plot(tt,add=T,border=2)
raster::projection(orch)
tt <- watershed_tree_detection(
image_fname = 'X:/Imagery/Portugal/Images/8bit/12_0820.tif',
bandnames = c('X700.000000.Nanometers','X546.000000.Nanometers','X435.000000.Nanometers','X800.000000.Nanometers'),
#extent = raster::extent(c(747400, 747420, 4463900, 4463920)),
extent = testext,
index_name = 'NDVI',
bg_mask = list('NDVI',0.20),
plott = F,
neighbour_radius = 4/0.15,# because these data are not properly projected the ca. 15 cm pixels are assigned '1 unit/m'
watershed_tolerance = 0.008,
rough_crowns_shp_fname = 'E:/beckpie/temp/DMC_treedetection_test.shp',
max_npix = 500000,
nWorkers = 4,
parallel = F
)
testim <- raster::crop(raster::brick('X:/Imagery/Portugal/Images/8bit/12_0820.tif'), testext)
raster::plotRGB(testim)
plot(tt,add=T,border=2)
rm(orch)
tt <- watershed_tree_detection(
image_fname = 'X:/Imagery/Portugal/Images/8bit/12_0820.tif',
bandnames = c('X700.000000.Nanometers','X546.000000.Nanometers','X435.000000.Nanometers','X800.000000.Nanometers'),
#extent = raster::extent(c(747400, 747420, 4463900, 4463920)),
extent = testext,
index_name = 'NDVI',
bg_mask = list('NDVI',0.20,800,65),
plott = F,
neighbour_radius = 4/0.15,# because these data are not properly projected the ca. 15 cm pixels are assigned '1 unit/m'
watershed_tolerance = 0.008,
rough_crowns_shp_fname = 'E:/beckpie/temp/DMC_treedetection_test.shp',
max_npix = 500000,
nWorkers = 4,
parallel = F
)
testim <- raster::crop(raster::brick('X:/Imagery/Portugal/Images/8bit/12_0820.tif'), testext)
raster::plotRGB(testim)
plot(tt,add=T,border=2)
plot(tt,add=T,border=2,col=3)
raster::plotRGB(testim)
plot(tt,add=T,border=2,col=rgb(1,0,0,.2))
raster::plotRGB(testim)
plot(tt,add=T,border=2,col=rgb(1,0,0,.9))
raster::plotRGB(testim)
plot(tt,add=T,border=2,col=rgb(1,0,0,.05))
tt <- watershed_tree_detection(
image_fname = 'X:/Imagery/Portugal/Images/8bit/12_0820.tif',
bandnames = c('X700.000000.Nanometers','X546.000000.Nanometers','X435.000000.Nanometers','X800.000000.Nanometers'),
#extent = raster::extent(c(747400, 747420, 4463900, 4463920)),
extent = testext,
index_name = 'NDVI',
bg_mask = list('NDVI',0.20,800,72),
plott = F,
neighbour_radius = 5/0.10,# because these data are not properly projected the ca. 10 cm pixels are assigned '1 unit/m'
watershed_tolerance = 0.008,
rough_crowns_shp_fname = 'E:/beckpie/temp/DMC_treedetection_test.shp',
max_npix = 500000,
nWorkers = 4,
parallel = F
)
testim <- raster::crop(raster::brick('X:/Imagery/Portugal/Images/8bit/12_0820.tif'), testext)
raster::plotRGB(testim)
plot(tt,add=T,border=2,col=rgb(1,0,0,.05))
tt <- watershed_tree_detection(
image_fname = 'X:/Imagery/Portugal/Images/8bit/12_0820.tif',
bandnames = c('X700.000000.Nanometers','X546.000000.Nanometers','X435.000000.Nanometers','X800.000000.Nanometers'),
#extent = raster::extent(c(747400, 747420, 4463900, 4463920)),
extent = testext,
index_name = 'NDVI',
bg_mask = list('NDVI',0.21,800,76),
plott = F,
neighbour_radius = 5/0.10,# because these data are not properly projected the ca. 10 cm pixels are assigned '1 unit/m'
watershed_tolerance = 0.008,
rough_crowns_shp_fname = 'E:/beckpie/temp/DMC_treedetection_test.shp',
max_npix = 500000,
nWorkers = 4,
parallel = F
)
testim <- raster::crop(raster::brick('X:/Imagery/Portugal/Images/8bit/12_0820.tif'), testext)
raster::plotRGB(testim)
plot(tt,add=T,border=2,col=rgb(1,0,0,.05))
tt <- watershed_tree_detection(
image_fname = 'X:/Imagery/Portugal/Images/8bit/12_0820.tif',
bandnames = c('X700.000000.Nanometers','X546.000000.Nanometers','X435.000000.Nanometers','X800.000000.Nanometers'),
#extent = raster::extent(c(747400, 747420, 4463900, 4463920)),
extent = testext,
index_name = 'NDVI',
bg_mask = list('NDVI',0.21,800,76),
plott = F,
neighbour_radius = 4/0.10,# because these data are not properly projected the ca. 10 cm pixels are assigned '1 unit/m'
watershed_tolerance = 0.016,
rough_crowns_shp_fname = 'E:/beckpie/temp/DMC_treedetection_test.shp',
max_npix = 500000,
nWorkers = 4,
parallel = F
)
testim <- raster::crop(raster::brick('X:/Imagery/Portugal/Images/8bit/12_0820.tif'), testext)
raster::plotRGB(testim)
plot(tt,add=T,border=2,col=rgb(1,0,0,.05))
tt <- watershed_tree_detection(
image_fname = 'X:/Imagery/Portugal/Images/8bit/12_0820.tif',
bandnames = c('X700.000000.Nanometers','X546.000000.Nanometers','X435.000000.Nanometers','X800.000000.Nanometers'),
#extent = raster::extent(c(747400, 747420, 4463900, 4463920)),
extent = testext,
index_name = 'NDVI',
bg_mask = list('NDVI',0.21,800,76),
plott = F,
neighbour_radius = 4/0.10,# because these data are not properly projected the ca. 10 cm pixels are assigned '1 unit/m'
watershed_tolerance = 0.010,
rough_crowns_shp_fname = 'E:/beckpie/temp/DMC_treedetection_test.shp',
max_npix = 500000,
nWorkers = 4,
parallel = F
)
testim <- raster::crop(raster::brick('X:/Imagery/Portugal/Images/8bit/12_0820.tif'), testext)
raster::plotRGB(testim)
plot(tt,add=T,border=2,col=rgb(1,0,0,.05))
tt <- watershed_tree_detection(
image_fname = 'X:/Imagery/Portugal/Images/8bit/12_0820.tif',
bandnames = c('X700.000000.Nanometers','X546.000000.Nanometers','X435.000000.Nanometers','X800.000000.Nanometers'),
#extent = raster::extent(c(747400, 747420, 4463900, 4463920)),
extent = testext,
index_name = 'NDVI',
bg_mask = list('NDVI',0.21,800,76),
plott = F,
neighbour_radius = 1/0.10,# because these data are not properly projected the ca. 10 cm pixels are assigned '1 unit/m'
watershed_tolerance = 0.010,
rough_crowns_shp_fname = 'E:/beckpie/temp/DMC_treedetection_test.shp',
max_npix = 500000,
nWorkers = 4,
parallel = F
)
testim <- raster::crop(raster::brick('X:/Imagery/Portugal/Images/8bit/12_0820.tif'), testext)
raster::plotRGB(testim)
plot(tt,add=T,border=2,col=rgb(1,0,0,.05))
tt <- watershed_tree_detection(
image_fname = 'X:/Imagery/Portugal/Images/8bit/12_0820.tif',
bandnames = c('X700.000000.Nanometers','X546.000000.Nanometers','X435.000000.Nanometers','X800.000000.Nanometers'),
#extent = raster::extent(c(747400, 747420, 4463900, 4463920)),
extent = testext,
index_name = 'NDVI',
bg_mask = list('NDVI',0.21,800,76),
plott = F,
neighbour_radius = 2/0.10,# because these data are not properly projected the ca. 10 cm pixels are assigned '1 unit/m'
watershed_tolerance = 0.010,
rough_crowns_shp_fname = 'E:/beckpie/temp/DMC_treedetection_test.shp',
max_npix = 500000,
nWorkers = 4,
parallel = F
)
testim <- raster::crop(raster::brick('X:/Imagery/Portugal/Images/8bit/12_0820.tif'), testext)
raster::plotRGB(testim)
plot(tt,add=T,border=2,col=rgb(1,0,0,.05))
plot(tt,add=T,border=2,col=rgb(1,0,0,.15))
tt <- watershed_tree_detection(
image_fname = 'X:/Imagery/Portugal/Images/8bit/12_0820.tif',
bandnames = c('X700.000000.Nanometers','X546.000000.Nanometers','X435.000000.Nanometers','X800.000000.Nanometers'),
#extent = raster::extent(c(747400, 747420, 4463900, 4463920)),
extent = testext,
index_name = 'NDVI',
bg_mask = list('NDVI',0.21,800,76),
plott = F,
neighbour_radius = 2/0.10,# because these data are not properly projected the ca. 10 cm pixels are assigned '1 unit/m'
watershed_tolerance = 0.010,
rough_crowns_shp_fname = 'E:/beckpie/temp/DMC_treedetection_test.shp',
max_npix = 500000,
nWorkers = 4,
parallel = F
)
testim <- raster::crop(raster::brick('X:/Imagery/Portugal/Images/8bit/12_0820.tif'), testext)
raster::plotRGB(testim)
plot(tt,add=T,border=2,col=rgb(1,0,0,.15))
tt <- watershed_tree_detection(
image_fname = 'X:/Imagery/Portugal/Images/8bit/12_0820.tif',
bandnames = c('X700.000000.Nanometers','X546.000000.Nanometers','X435.000000.Nanometers','X800.000000.Nanometers'),
#extent = raster::extent(c(747400, 747420, 4463900, 4463920)),
extent = testext,
index_name = 'NDVI',
bg_mask = list('NDVI',0.21,800,80),
plott = F,
neighbour_radius = 2/0.10,# because these data are not properly projected the ca. 10 cm pixels are assigned '1 unit/m'
watershed_tolerance = 0.010,
rough_crowns_shp_fname = 'E:/beckpie/temp/DMC_treedetection_test.shp',
max_npix = 500000,
nWorkers = 4,
parallel = F
)
testim <- raster::crop(raster::brick('X:/Imagery/Portugal/Images/8bit/12_0820.tif'), testext)
raster::plotRGB(testim)
plot(tt,add=T,border=2,col=rgb(1,0,0,.05))
plot(tt,add=T,border=2,col=rgb(1,0,0,.10))
tt <- watershed_tree_detection(
image_fname = 'X:/Imagery/Portugal/Images/8bit/12_0820.tif',
bandnames = c('X700.000000.Nanometers','X546.000000.Nanometers','X435.000000.Nanometers','X800.000000.Nanometers'),
#extent = raster::extent(c(747400, 747420, 4463900, 4463920)),
extent = testext,
#index_name = 'NDVI',
index_name = '800',
bg_mask = list('NDVI',0.21,800,80),
plott = F,
neighbour_radius = 2/0.10,# because these data are not properly projected the ca. 10 cm pixels are assigned '1 unit/m'
watershed_tolerance = 0.010,
watershed_tolerance = 0.010*255,
rough_crowns_shp_fname = 'E:/beckpie/temp/DMC_treedetection_test.shp',
max_npix = 500000,
nWorkers = 4,
parallel = F
)
testim <- raster::crop(raster::brick('X:/Imagery/Portugal/Images/8bit/12_0820.tif'), testext)
raster::plotRGB(testim)
plot(tt,add=T,border=2,col=rgb(1,0,0,.10))
tt <- watershed_tree_detection(
image_fname = 'X:/Imagery/Portugal/Images/8bit/12_0820.tif',
bandnames = c('X700.000000.Nanometers','X546.000000.Nanometers','X435.000000.Nanometers','X800.000000.Nanometers'),
#extent = raster::extent(c(747400, 747420, 4463900, 4463920)),
extent = testext,
#index_name = 'NDVI',
index_name = '800',
bg_mask = list('NDVI',0.21,800,80),
plott = F,
neighbour_radius = 2/0.10,# because these data are not properly projected the ca. 10 cm pixels are assigned '1 unit/m'
#watershed_tolerance = 0.010,
watershed_tolerance = 0.010*255,
rough_crowns_shp_fname = 'E:/beckpie/temp/DMC_treedetection_test.shp',
max_npix = 500000,
nWorkers = 4,
parallel = F
)
testim <- raster::crop(raster::brick('X:/Imagery/Portugal/Images/8bit/12_0820.tif'), testext)
raster::plotRGB(testim)
plot(tt,add=T,border=2,col=rgb(1,0,0,.10))
tt <- watershed_tree_detection(
image_fname = 'X:/Imagery/Portugal/Images/8bit/12_0820.tif',
bandnames = c('X700.000000.Nanometers','X546.000000.Nanometers','X435.000000.Nanometers','X800.000000.Nanometers'),
#extent = raster::extent(c(747400, 747420, 4463900, 4463920)),
extent = testext,
#index_name = 'NDVI',
index_name = 800,
bg_mask = list('NDVI',0.21,800,80),
plott = F,
neighbour_radius = 2/0.10,# because these data are not properly projected the ca. 10 cm pixels are assigned '1 unit/m'
#watershed_tolerance = 0.010, #for NDVI
watershed_tolerance = 0.010*255,
rough_crowns_shp_fname = 'E:/beckpie/temp/DMC_treedetection_test.shp',
max_npix = 500000,
nWorkers = 4,
parallel = F
)
testim <- raster::crop(raster::brick('X:/Imagery/Portugal/Images/8bit/12_0820.tif'), testext)
raster::plotRGB(testim)
plot(tt,add=T,border=2,col=rgb(1,0,0,.10))
1000*600
600*600
tt <- watershed_tree_detection(
image_fname = 'X:/Imagery/Portugal/Images/8bit/12_0820.tif',
bandnames = c('X700.000000.Nanometers','X546.000000.Nanometers','X435.000000.Nanometers','X800.000000.Nanometers'),
#extent = raster::extent(c(747400, 747420, 4463900, 4463920)),
extent = testext,
#index_name = 'NDVI',
index_name = 800,
bg_mask = list('NDVI',0.21,800,80),
plott = F,
neighbour_radius = 2/0.10,# because these data are not properly projected the ca. 10 cm pixels are assigned '1 unit/m'
#watershed_tolerance = 0.010, #for NDVI
watershed_tolerance = 0.008*255,
rough_crowns_shp_fname = 'E:/beckpie/temp/DMC_treedetection_test.shp',
max_npix = 500000,
nWorkers = 4,
parallel = F
)
testim <- raster::crop(raster::brick('X:/Imagery/Portugal/Images/8bit/12_0820.tif'), testext)
raster::plotRGB(testim)
plot(tt,add=T,border=2,col=rgb(1,0,0,.10))
600*600
testext <- raster::extent(c(1000, 2600, 1, 1600))
tt <- watershed_tree_detection(
image_fname = 'X:/Imagery/Portugal/Images/8bit/12_0820.tif',
bandnames = c('X700.000000.Nanometers','X546.000000.Nanometers','X435.000000.Nanometers','X800.000000.Nanometers'),
#extent = raster::extent(c(747400, 747420, 4463900, 4463920)),
extent = testext,
#index_name = 'NDVI',
index_name = 800,
bg_mask = list('NDVI',0.21,800,80),
plott = F,
neighbour_radius = 2/0.10,# because these data are not properly projected the ca. 10 cm pixels are assigned '1 unit/m'
#watershed_tolerance = 0.010, #for NDVI
watershed_tolerance = 0.008*255,
rough_crowns_shp_fname = 'E:/beckpie/temp/DMC_treedetection_test.shp',
max_npix = 500000,
nWorkers = 4,
parallel = F
)
library(CanHeMonR)
testext <- raster::extent(c(1000, 2600, 1, 1600))
tt <- watershed_tree_detection(
image_fname = 'X:/Imagery/Portugal/Images/8bit/12_0820.tif',
bandnames = c('X700.000000.Nanometers','X546.000000.Nanometers','X435.000000.Nanometers','X800.000000.Nanometers'),
#extent = raster::extent(c(747400, 747420, 4463900, 4463920)),
extent = testext,
#index_name = 'NDVI',
index_name = 800,
bg_mask = list('NDVI',0.21,800,80),
plott = F,
neighbour_radius = 2/0.10,# because these data are not properly projected the ca. 10 cm pixels are assigned '1 unit/m'
#watershed_tolerance = 0.010, #for NDVI
watershed_tolerance = 0.008*255,
rough_crowns_shp_fname = 'E:/beckpie/temp/DMC_treedetection_test.shp',
max_npix = 500000,
nWorkers = 4,
parallel = F
)
testim <- raster::crop(raster::brick('X:/Imagery/Portugal/Images/8bit/12_0820.tif'), testext)
raster::plotRGB(testim)
plot(tt,add=T,border=2,col=rgb(1,0,0,.10))
1600*1600
800*800
testext <- raster::extent(c(1000, 1800, 1, 800))
tt <- watershed_tree_detection(
image_fname = 'X:/Imagery/Portugal/Images/8bit/12_0820.tif',
bandnames = c('X700.000000.Nanometers','X546.000000.Nanometers','X435.000000.Nanometers','X800.000000.Nanometers'),
#extent = raster::extent(c(747400, 747420, 4463900, 4463920)),
extent = testext,
#index_name = 'NDVI',
index_name = 800,
bg_mask = list('NDVI',0.21,800,80),
plott = F,
neighbour_radius = 2/0.10,# because these data are not properly projected the ca. 10 cm pixels are assigned '1 unit/m'
#watershed_tolerance = 0.010, #for NDVI
watershed_tolerance = 0.008*255,
rough_crowns_shp_fname = 'E:/beckpie/temp/DMC_treedetection_test.shp',
max_npix = 700000,
nWorkers = 4,
parallel = F
)
testim <- raster::crop(raster::brick('X:/Imagery/Portugal/Images/8bit/12_0820.tif'), testext)
raster::plotRGB(testim)
plot(tt,add=T,border=2,col=rgb(1,0,0,.10))
?raster::plotRGB
raster::plotRGB(testim,stretch = 'lin')
plot(tt,add=T,border=2,col=rgb(1,0,0,.10))
raster::plotRGB(testim,stretch = 'lin')
plot(tt,add=T,border=2)#,col=rgb(1,0,0,.10))
testext <- raster::extent(c(1000, 2000, 1, 1000))
tt <- watershed_tree_detection(
image_fname = 'X:/Imagery/Portugal/Images/8bit/12_0820.tif',
bandnames = c('X700.000000.Nanometers','X546.000000.Nanometers','X435.000000.Nanometers','X800.000000.Nanometers'),
#extent = raster::extent(c(747400, 747420, 4463900, 4463920)),
extent = testext,
#index_name = 'NDVI',
index_name = 800,
bg_mask = list('NDVI',0.21,800,80),
plott = F,
neighbour_radius = 2/0.10,# because these data are not properly projected the ca. 10 cm pixels are assigned '1 unit/m'
#watershed_tolerance = 0.010, #for NDVI
watershed_tolerance = 0.008*255,
rough_crowns_shp_fname = 'E:/beckpie/temp/DMC_treedetection_test.shp',
max_npix = 700000,
nWorkers = 4,
parallel = F
)
testim <- raster::crop(raster::brick('X:/Imagery/Portugal/Images/8bit/12_0820.tif'), testext)
raster::plotRGB(testim,stretch = 'lin')
plot(tt,add=T,border=2)#,col=rgb(1,0,0,.10))
tt <- watershed_tree_detection(
image_fname = 'X:/Imagery/Portugal/Images/8bit/12_0820.tif',
bandnames = c('X700.000000.Nanometers','X546.000000.Nanometers','X435.000000.Nanometers','X800.000000.Nanometers'),
#extent = raster::extent(c(747400, 747420, 4463900, 4463920)),
extent = testext,
#index_name = 'NDVI',
index_name = 800,
bg_mask = list('NDVI',0.21,800,80),
plott = F,
neighbour_radius = 2/0.10,# because these data are not properly projected the ca. 10 cm pixels are assigned '1 unit/m'
#watershed_tolerance = 0.010, #for NDVI
watershed_tolerance = 0.008*255,
rough_crowns_shp_fname = 'E:/beckpie/temp/DMC_treedetection_test.shp',
#max_npix = 700000,
nWorkers = 4,
parallel = F
)
testim <- raster::crop(raster::brick('X:/Imagery/Portugal/Images/8bit/12_0820.tif'), testext)
raster::plotRGB(testim,stretch = 'lin')
plot(tt,add=T,border=2)#,col=rgb(1,0,0,.10))
plot(tt,add=T,border=2,col=rgb(1,0,0,.10))
plot(tt,add=T,border=2,col=rgb(1,0,0,.20))
1000*1000
testext <- raster::extent(c(1000, 2000, 1, 2000))
tt <- watershed_tree_detection(
image_fname = 'X:/Imagery/Portugal/Images/8bit/12_0820.tif',
bandnames = c('X700.000000.Nanometers','X546.000000.Nanometers','X435.000000.Nanometers','X800.000000.Nanometers'),
#extent = raster::extent(c(747400, 747420, 4463900, 4463920)),
extent = testext,
#index_name = 'NDVI',
index_name = 800,
bg_mask = list('NDVI',0.21,800,80),
plott = F,
neighbour_radius = 2/0.10,# because these data are not properly projected the ca. 10 cm pixels are assigned '1 unit/m'
#watershed_tolerance = 0.010, #for NDVI
watershed_tolerance = 0.008*255,
rough_crowns_shp_fname = 'E:/beckpie/temp/DMC_treedetection_test.shp',
#max_npix = 700000,
nWorkers = 4,
parallel = F
)
testim <- raster::crop(raster::brick('X:/Imagery/Portugal/Images/8bit/12_0820.tif'), testext)
raster::plotRGB(testim,stretch = 'lin')
plot(tt,add=T,border=2,col=rgb(1,0,0,.20))
testext <- raster::extent(c(1000, 3000, 1, 2000))
tt <- watershed_tree_detection(
image_fname = 'X:/Imagery/Portugal/Images/8bit/12_0820.tif',
bandnames = c('X700.000000.Nanometers','X546.000000.Nanometers','X435.000000.Nanometers','X800.000000.Nanometers'),
#extent = raster::extent(c(747400, 747420, 4463900, 4463920)),
extent = testext,
#index_name = 'NDVI',
index_name = 800,
bg_mask = list('NDVI',0.21,800,80),
plott = F,
neighbour_radius = 2/0.10,# because these data are not properly projected the ca. 10 cm pixels are assigned '1 unit/m'
#watershed_tolerance = 0.010, #for NDVI
watershed_tolerance = 0.008*255,
rough_crowns_shp_fname = 'E:/beckpie/temp/DMC_treedetection_test.shp',
#max_npix = 700000,
nWorkers = 4,
parallel = F
)
testim <- raster::crop(raster::brick('X:/Imagery/Portugal/Images/8bit/12_0820.tif'), testext)
raster::plotRGB(testim,stretch = 'lin')
plot(tt,add=T,border=2,col=rgb(1,0,0,.20))
testext <- raster::extent(c(1000, 4000, 1, 2000))
tt <- watershed_tree_detection(
image_fname = 'X:/Imagery/Portugal/Images/8bit/12_0820.tif',
bandnames = c('X700.000000.Nanometers','X546.000000.Nanometers','X435.000000.Nanometers','X800.000000.Nanometers'),
#extent = raster::extent(c(747400, 747420, 4463900, 4463920)),
extent = testext,
#index_name = 'NDVI',
index_name = 800,
bg_mask = list('NDVI',0.21,800,80),
plott = F,
neighbour_radius = 2/0.10,# because these data are not properly projected the ca. 10 cm pixels are assigned '1 unit/m'
#watershed_tolerance = 0.010, #for NDVI
watershed_tolerance = 0.008*255,
rough_crowns_shp_fname = 'E:/beckpie/temp/DMC_treedetection_test.shp',
#max_npix = 700000,
nWorkers = 4,
parallel = F
)
testim <- raster::crop(raster::brick('X:/Imagery/Portugal/Images/8bit/12_0820.tif'), testext)
raster::plotRGB(testim,stretch = 'lin')
plot(tt,add=T,border=2,col=rgb(1,0,0,.20))
3000*2000
testext <- raster::extent(c(1000, 4000, 1, 4000))
tt <- watershed_tree_detection(
image_fname = 'X:/Imagery/Portugal/Images/8bit/12_0820.tif',
bandnames = c('X700.000000.Nanometers','X546.000000.Nanometers','X435.000000.Nanometers','X800.000000.Nanometers'),
#extent = raster::extent(c(747400, 747420, 4463900, 4463920)),
extent = testext,
#index_name = 'NDVI',
index_name = 800,
bg_mask = list('NDVI',0.21,800,80),
plott = F,
neighbour_radius = 2/0.10,# because these data are not properly projected the ca. 10 cm pixels are assigned '1 unit/m'
#watershed_tolerance = 0.010, #for NDVI
watershed_tolerance = 0.008*255,
rough_crowns_shp_fname = 'E:/beckpie/temp/DMC_treedetection_test.shp',
#max_npix = 6e+06,
nWorkers = 4,
parallel = F
)
testim <- raster::crop(raster::brick('X:/Imagery/Portugal/Images/8bit/12_0820.tif'), testext)
raster::plotRGB(testim,stretch = 'lin')
plot(tt,add=T,border=2,col=rgb(1,0,0,.20))
3000*4000
raster::plotRGB(testim,stretch = 'lin')
plot(tt,add=T,border=2,col=rgb(1,0,0,.20))
rm(tt)
